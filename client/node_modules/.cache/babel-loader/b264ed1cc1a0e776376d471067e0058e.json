{"ast":null,"code":"var _jsxFileName = \"/Users/sofiaspagnoletti/Desktop/second_time_around/client/src/components/PostForm/PostForm.js\";\nimport React, { Component } from \"react\"; //import \"./style.css\";\n\nimport API from \"../../utils/API\";\n\nclass PostForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      item: \"\",\n      quantity: \"\",\n      category: \"\",\n      uploading: false,\n      imageUrl: \"\"\n    };\n\n    this.handleInputChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n\n      if (this.state.item && this.state.quantity) {\n        API.savePost({\n          itemName: this.state.item,\n          quantity: this.state.quantity,\n          category: this.state.category\n        }).then(res => console.log(res)).catch(err => console.log(err));\n      }\n    };\n\n    this.onChange = e => {\n      const files = Array.from(e.target.files);\n      this.setState({\n        uploading: true\n      });\n      const formData = new FormData();\n      files.forEach((file, i) => {\n        formData.append(i, file);\n      }); //sends the img to server\n\n      fetch(\"http://localhost:3001/image-upload\", {\n        method: 'POST',\n        body: formData\n      }).then(res => res.json()).then(images => {\n        this.setState({\n          uploading: false,\n          imageUrl: images[0].url\n        });\n      });\n    };\n\n    this.onSubmit = e => {\n      console.log(\"Submitting\");\n      API.saveItem({\n        name: \"SomeItemName\",\n        description: \"SomeDescription\",\n        location: \"Random location\",\n        imageUrl: this.state.imageUrl\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"Item Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Enter Item\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"product\",\n      id: \"item_donate\",\n      name: \"item\",\n      value: this.state.item,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"Quantity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Enter Item Quantity\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"quantity\",\n      id: \"item_qty\",\n      name: \"quantity\",\n      value: this.state.quantity,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"Department\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"choose Department\"), React.createElement(\"select\", {\n      name: \"category\",\n      value: this.state.category,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"kitchen\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"kitchen\"), React.createElement(\"option\", {\n      value: \"Furniture\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Furniture\"), React.createElement(\"option\", {\n      value: \"outdoor\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"outdoor\"), React.createElement(\"option\", {\n      value: \"decor\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"decor\"))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Images: \"), React.createElement(\"input\", {\n      type: \"file\",\n      id: \"images\",\n      placeholder: \"Images\",\n      multiple: true,\n      onChange: onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      style: buttonStyle,\n      onChange: this.onChange,\n      image: this.state.imageUrl,\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Upload Image\"), React.createElement(\"button\", {\n      type: \"button\",\n      disabled: !(this.state.item && this.state.quantity),\n      onClick: this.handleFormSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"submit\"));\n  }\n\n}\n\nexport default PostForm;","map":{"version":3,"sources":["/Users/sofiaspagnoletti/Desktop/second_time_around/client/src/components/PostForm/PostForm.js"],"names":["React","Component","API","PostForm","state","item","quantity","category","uploading","imageUrl","handleInputChange","event","target","name","value","setState","handleFormSubmit","preventDefault","savePost","itemName","then","res","console","log","catch","err","onChange","e","files","Array","from","formData","FormData","forEach","file","i","append","fetch","method","body","json","images","url","onSubmit","saveItem","description","location","render","buttonStyle"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n//import \"./style.css\";\nimport API from \"../../utils/API\";\n\nclass PostForm extends Component {\n\n  state = {\n    item: \"\",\n    quantity: \"\",\n    category: \"\",\n    uploading: false,\n    imageUrl: \"\"\n  }\n  handleInputChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    if (this.state.item && this.state.quantity) {\n      API.savePost({\n        itemName: this.state.item,\n        quantity: this.state.quantity,\n        category: this.state.category\n      }).then(res => console.log(res))\n        .catch(err => console.log(err));\n    }\n  };\n\n\n  onChange = e => {\n    const files = Array.from(e.target.files)\n    this.setState({ uploading: true })\n\n    const formData = new FormData()\n\n    files.forEach((file, i) => {\n      formData.append(i, file)\n    })\n\n    //sends the img to server\n    fetch(`http://localhost:3001/image-upload`, {\n      method: 'POST',\n      body: formData\n    })\n    .then(res => res.json())\n    .then(images => {\n      this.setState({ \n        uploading: false,\n        imageUrl: images[0].url\n      });\n    });\n  }\n\n  // submitting this.state.imageURL to the API\n  onSubmit = (e) => {\n    console.log(\"Submitting\");\n    API.saveItem({\n              name: \"SomeItemName\",\n        description: \"SomeDescription\",\n        location: \"Random location\",\n        imageUrl: this.state.imageUrl\n    });\n\n  }\n\n\n  render() {\n    return (\n      <form>\n        <div className=\"form-group\">\n          <label htmlFor=\"Item Name\">Enter Item</label>\n          <input type=\"text\" className=\"product\" id=\"item_donate\" name=\"item\" value={this.state.item} onChange={this.handleInputChange} />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"Quantity\">Enter Item Quantity</label>\n          <input type=\"text\" className=\"quantity\" id=\"item_qty\" name=\"quantity\" value={this.state.quantity} onChange={this.handleInputChange} />\n        </div>\n        <div>\n          <label htmlFor=\"Department\">choose Department</label>\n          <select name=\"category\" value={this.state.category} onChange={this.handleInputChange} >\n            <option value=\"kitchen\">kitchen</option>\n            <option value=\"Furniture\">Furniture</option>\n            <option value=\"outdoor\">outdoor</option>\n            <option value=\"decor\">decor</option>\n          </select>\n        </div>\n        <div className=\"form-group\">\n          <label >Images: </label>\n          <input type=\"file\" id=\"images\" placeholder=\"Images\" multiple onChange={onChange} />\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary\" style={buttonStyle} onChange={this.onChange} image={this.state.imageUrl} onSubmit={this.onSubmit}>Upload Image</button>\n        \n        <button type=\"button\" disabled={!(this.state.item && this.state.quantity)}\n          onClick={this.handleFormSubmit}>submit</button>\n      </form>\n    );\n  }\n}\n\nexport default PostForm;"]},"metadata":{},"sourceType":"module"}