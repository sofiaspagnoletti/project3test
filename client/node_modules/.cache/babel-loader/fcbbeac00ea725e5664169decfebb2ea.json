{"ast":null,"code":"var _jsxFileName = \"/Users/sofiaspagnoletti/Desktop/second_time_around/client/src/components/PostForm/PostForm.js\";\nimport React, { Component } from \"react\";\nimport \"./style.css\";\nimport API from \"../../utils/API\"; //import { SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION } from \"constants\";\n\nconst cardPostion = {\n  \"float\": \"left\"\n};\n\nclass PostForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      item: \"\",\n      quantity: \"\",\n      category: \"\",\n      Address: \"\",\n      stock_id: \"\",\n      stock_arr: [],\n      uploading: false,\n      url: \"\"\n    };\n\n    this.handleInputChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.deletePost = id => {\n      if (id !== undefined) {\n        //console.log(\"inside delete\"+id);\n        API.deleteData(id).then(res => {\n          this.setState({\n            stock_arr: \"\",\n            item: \"\",\n            quantity: \"\",\n            category: \"\",\n            Address: \"\"\n          }); //console.log(res.data+\"successfully deleted\");\n\n          alert(\"successfully deleted post\"); //console.log(this.state.stock_arr.itemName);\n        }).catch(err => console.log(err));\n      }\n    };\n\n    this.getDataById = id => {\n      API.getDataById(id).then(res => {\n        this.setState({\n          stock_arr: res.data,\n          item: \"\",\n          quantity: \"\",\n          category: \"\",\n          Address: \"\"\n        });\n        console.log(\"graaaaaaaaaaab\", res.data); //console.log(this.state.stock_arr.itemName);\n      }).catch(err => console.log(err));\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n\n      if (this.state.item && this.state.quantity) {\n        const newPost = {\n          itemName: this.state.item,\n          quantity: this.state.quantity,\n          category: this.state.category,\n          Address: this.state.Address,\n          url: this.state.url\n        };\n        console.log(\"newPost\", newPost);\n        API.savePost(newPost).then(res => {\n          console.log(res.data);\n          this.setState({\n            stock_id: res.data._id\n          });\n          this.getDataById(res.data._id);\n        }).catch(err => console.log(err));\n      }\n    };\n\n    this.uploadFile = e => {\n      const files = Array.from(e.target.files);\n      this.setState({\n        uploading: true\n      });\n      const formData = new FormData();\n      files.forEach((file, i) => {\n        formData.append(i, file);\n      }); //sends the img to server\n\n      fetch(\"http://localhost:3001/image-upload\", {\n        method: 'POST',\n        body: formData\n      }).then(res => res.json()).then(images => {\n        this.setState({\n          uploading: false,\n          url: images[0].url\n        });\n      });\n    };\n  }\n\n  render() {\n    return (//kim's update \n      React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card w-50\",\n        style: cardPostion,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"card-title sectiontitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Enter the item you want to donate:\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"formfield form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"exampleFormControlInput1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Product\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"formfield form-control\",\n        placeholder: \"ex. Table\",\n        name: \"item\",\n        value: this.state.item,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"formfield form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"exampleFormControlInput1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Pick up address\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"123 Main St, Seattle, WA, 98123 \",\n        name: \"Address\",\n        value: this.state.Address,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"formfield form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"exampleFormControlSelect1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Select quantity\"), React.createElement(\"select\", {\n        className: \"form-control\",\n        id: \"exampleFormControlSelect1\",\n        name: \"quantity\",\n        value: this.state.quantity,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"Choose\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Choose...\"), React.createElement(\"option\", {\n        value: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"1\"), React.createElement(\"option\", {\n        value: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"2\"), React.createElement(\"option\", {\n        value: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"3\"), React.createElement(\"option\", {\n        value: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"4\"), React.createElement(\"option\", {\n        value: \"5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"5\"))), React.createElement(\"div\", {\n        className: \"formfield form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"inputGroupSelect01\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Select category\"), React.createElement(\"select\", {\n        className: \"custom-select\",\n        id: \"inputGroupSelect03\",\n        name: \"category\",\n        value: this.state.category,\n        onChange: this.handleInputChange,\n        \"aria-label\": \"Example select with button addon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"Choose\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Choose...\"), React.createElement(\"option\", {\n        value: \"Toys\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Toys\"), React.createElement(\"option\", {\n        value: \"Housing\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"Housing\"), React.createElement(\"option\", {\n        value: \"Electronics\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Electronics\"), React.createElement(\"option\", {\n        value: \"Sports\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"Sports\"), React.createElement(\"option\", {\n        value: \"Home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Home\"), React.createElement(\"option\", {\n        value: \"Fashion\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"Fashion\"), React.createElement(\"option\", {\n        value: \"Books\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"Books\"), React.createElement(\"option\", {\n        value: \"Other\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Other\"))), React.createElement(\"div\", {\n        className: \"formfield form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, \"Include an image: \"), React.createElement(\"input\", {\n        type: \"file\",\n        id: \"images\",\n        placeholder: \"Images\",\n        multiple: true,\n        onChange: this.uploadFile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }))), React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"navbutton btn btn-warning my-2 btn-sm\",\n        value: \"Submit\",\n        disabled: !(this.state.item && this.state.quantity),\n        onClick: this.handleFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"Submit\"))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"sectiontitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \"Your Post\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }), React.createElement(\"h5\", {\n        className: \"formfield\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"Donating Item and Description:\", this.state.stock_arr.itemName), React.createElement(\"h6\", {\n        className: \"formfield\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \"Item Qunatity:\", this.state.stock_arr.quantity), React.createElement(\"h6\", {\n        className: \"formfield\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"Department:\", this.state.stock_arr.category), React.createElement(\"h6\", {\n        className: \"formfield\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, \"Address:\", this.state.stock_arr.Address), React.createElement(\"img\", {\n        src: this.state.url,\n        width: \"100px\",\n        height: \"100px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary\",\n        onClick: () => this.deletePost(this.state.stock_arr._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"delete\")))))\n    );\n    /* //helan's update\n     <div>\n         <div className=\"card w-50\" style={cardPostion}>\n       <div className=\"card-body\">\n         <h3 className=\"card-title\">Donate Form</h3>\n         <br />\n      <form>\n         <div className=\"form-group\">\n             <label htmlFor=\"Item Name\">Enter Item Description</label>\n             <input type=\"text\" className=\"form-control\" id=\"item_donate\"  placeholder=\"ex. Table\" name=\"item\" value={this.state.item} onChange={this.handleInputChange}/>\n         </div>\n         <div className=\"form-group\">\n             <label htmlFor=\"Quantity\">select Item Quantity</label>\n             <select name=\"quantity\" value={this.state.quantity}  onChange={this.handleInputChange} >\n             <option value=\"choose\">choose</option>\n             <option value=\"1\">1</option>\n             <option value=\"2\">2</option>\n             <option value=\"3\">3</option>\n             <option value=\"4\">4</option>\n         </select>\n         </div>\n         <div>\n         <label htmlFor=\"Department\">choose Department</label>\n         <select name=\"category\" value={this.state.category}  onChange={this.handleInputChange} >\n             <option value=\"choose\">choose</option>\n             <option value=\"kitchen\">kitchen</option>\n             <option value=\"Furniture\">Furniture</option>\n             <option value=\"outdoor\">outdoor</option>\n             <option value=\"decor\">decor</option>\n         </select>\n         </div>\n         <button type=\"button\" disabled={!(this.state.item && this.state.quantity)}\n             onClick={this.handleFormSubmit}>submit</button>\n           \n           \n     </form>\n     <div>  \n       \n       <div className=\"card\" > \n            \n         <div className=\"card-body\">\n     \n       <title>Your Post</title>\n         <h5>Donating Item:{this.state.stock_arr.itemName}</h5>\n         <h6>Item Qunatity:{this.state.stock_arr.quantity}</h6>\n         <h6>Department:{this.state.stock_arr.category}</h6>\n         <h6>grab image IMAGE</h6>\n           <button type=\"button\" className=\"btn btn-primary\" onClick={() => this.deletePost(this.state.stock_arr._id)}  >delete</button>\n        </div>\n          \n           </div>\n       \n       \n        </div>\n    </div>\n    </div>\n    </div>\n    );  \n    */\n  }\n\n}\n\nexport default PostForm;","map":{"version":3,"sources":["/Users/sofiaspagnoletti/Desktop/second_time_around/client/src/components/PostForm/PostForm.js"],"names":["React","Component","API","cardPostion","PostForm","state","item","quantity","category","Address","stock_id","stock_arr","uploading","url","handleInputChange","event","target","name","value","setState","deletePost","id","undefined","deleteData","then","res","alert","catch","err","console","log","getDataById","data","handleFormSubmit","preventDefault","newPost","itemName","savePost","_id","uploadFile","e","files","Array","from","formData","FormData","forEach","file","i","append","fetch","method","body","json","images","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,aAAP;AACA,OAAOC,GAAP,MAAgB,iBAAhB,C,CAGA;;AACA,MAAMC,WAAW,GAAG;AAClB,WAAS;AADS,CAApB;;AAIA,MAAMC,QAAN,SAAuBH,SAAvB,CAAiC;AAAA;AAAA;AAAA,SAE/BI,KAF+B,GAEzB;AACFC,MAAAA,IAAI,EAAC,EADH;AAEFC,MAAAA,QAAQ,EAAC,EAFP;AAGFC,MAAAA,QAAQ,EAAC,EAHP;AAIFC,MAAAA,OAAO,EAAC,EAJN;AAKFC,MAAAA,QAAQ,EAAC,EALP;AAMFC,MAAAA,SAAS,EAAC,EANR;AAOFC,MAAAA,SAAS,EAAE,KAPT;AAQFC,MAAAA,GAAG,EAAE;AARH,KAFyB;;AAAA,SAY/BC,iBAZ+B,GAYXC,KAAK,IAAI;AAAA,4BACHA,KAAK,CAACC,MADH;AAAA,YACnBC,IADmB,iBACnBA,IADmB;AAAA,YACbC,KADa,iBACbA,KADa;AAE3B,WAAKC,QAAL,CAAc;AACZ,SAACF,IAAD,GAAQC;AADI,OAAd;AAGD,KAjB8B;;AAAA,SAkB/BE,UAlB+B,GAkBpBC,EAAE,IAAE;AACb,UAAGA,EAAE,KAAIC,SAAT,EACA;AACE;AACApB,QAAAA,GAAG,CAACqB,UAAJ,CAAeF,EAAf,EACCG,IADD,CACMC,GAAG,IAAG;AACV,eAAKN,QAAL,CAAc;AAAER,YAAAA,SAAS,EAAC,EAAZ;AAAeL,YAAAA,IAAI,EAAC,EAApB;AAAwBC,YAAAA,QAAQ,EAAC,EAAjC;AAAqCC,YAAAA,QAAQ,EAAC,EAA9C;AAAiDC,YAAAA,OAAO,EAAC;AAAzD,WAAd,EADU,CAEV;;AACAiB,UAAAA,KAAK,CAAC,2BAAD,CAAL,CAHU,CAIV;AACD,SAND,EASCC,KATD,CASOC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CATd;AAUH;AAEE,KAlC4B;;AAAA,SAsC/BG,WAtC+B,GAsCnBV,EAAE,IAAE;AACdnB,MAAAA,GAAG,CAAC6B,WAAJ,CAAgBV,EAAhB,EACGG,IADH,CACQC,GAAG,IAAG;AACV,aAAKN,QAAL,CAAc;AAAER,UAAAA,SAAS,EAACc,GAAG,CAACO,IAAhB;AAAqB1B,UAAAA,IAAI,EAAC,EAA1B;AAA8BC,UAAAA,QAAQ,EAAC,EAAvC;AAA2CC,UAAAA,QAAQ,EAAC,EAApD;AAAwDC,UAAAA,OAAO,EAAC;AAAhE,SAAd;AACAoB,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA6BL,GAAG,CAACO,IAAjC,EAFU,CAGV;AACD,OALH,EAQGL,KARH,CAQSC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CARhB;AASD,KAhD8B;;AAAA,SAqD/BK,gBArD+B,GAqDdlB,KAAK,IAAE;AACpBA,MAAAA,KAAK,CAACmB,cAAN;;AACA,UAAG,KAAK7B,KAAL,CAAWC,IAAX,IAAmB,KAAKD,KAAL,CAAWE,QAAjC,EACA;AACE,cAAM4B,OAAO,GAAG;AAACC,UAAAA,QAAQ,EAAE,KAAK/B,KAAL,CAAWC,IAAtB;AACDC,UAAAA,QAAQ,EAAC,KAAKF,KAAL,CAAWE,QADnB;AAEDC,UAAAA,QAAQ,EAAC,KAAKH,KAAL,CAAWG,QAFnB;AAGDC,UAAAA,OAAO,EAAC,KAAKJ,KAAL,CAAWI,OAHlB;AAIDI,UAAAA,GAAG,EAAE,KAAKR,KAAL,CAAWQ;AAJf,SAAhB;AAOGgB,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBK,OAAvB;AAGAjC,QAAAA,GAAG,CAACmC,QAAJ,CAAcF,OAAd,EACCX,IADD,CACMC,GAAG,IAAI;AAEZI,UAAAA,OAAO,CAACC,GAAR,CAAYL,GAAG,CAACO,IAAhB;AACC,eAAKb,QAAL,CAAc;AAACT,YAAAA,QAAQ,EAACe,GAAG,CAACO,IAAJ,CAASM;AAAnB,WAAd;AACA,eAAKP,WAAL,CAAiBN,GAAG,CAACO,IAAJ,CAASM,GAA1B;AAID,SATD,EAcEX,KAdF,CAcQC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAdf;AAiBJ;AAEJ,KAtF8B;;AAAA,SAgQjCW,UAhQiC,GAgQpBC,CAAC,IAAI;AAChB,YAAMC,KAAK,GAAGC,KAAK,CAACC,IAAN,CAAWH,CAAC,CAACxB,MAAF,CAASyB,KAApB,CAAd;AACA,WAAKtB,QAAL,CAAc;AAAEP,QAAAA,SAAS,EAAE;AAAb,OAAd;AAEA,YAAMgC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AAEAJ,MAAAA,KAAK,CAACK,OAAN,CAAc,CAACC,IAAD,EAAOC,CAAP,KAAa;AACzBJ,QAAAA,QAAQ,CAACK,MAAT,CAAgBD,CAAhB,EAAmBD,IAAnB;AACD,OAFD,EANgB,CAUhB;;AACAG,MAAAA,KAAK,uCAAuC;AAC1CC,QAAAA,MAAM,EAAE,MADkC;AAE1CC,QAAAA,IAAI,EAAER;AAFoC,OAAvC,CAAL,CAIGpB,IAJH,CAIQC,GAAG,IAAIA,GAAG,CAAC4B,IAAJ,EAJf,EAKG7B,IALH,CAKQ8B,MAAM,IAAI;AACd,aAAKnC,QAAL,CAAc;AACZP,UAAAA,SAAS,EAAE,KADC;AAEZC,UAAAA,GAAG,EAAEyC,MAAM,CAAC,CAAD,CAAN,CAAUzC;AAFH,SAAd;AAID,OAVH;AAWD,KAtRgC;AAAA;;AAuF7B0C,EAAAA,MAAM,GAAE;AAEN,WACE;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAC,WAAf;AAA2B,QAAA,KAAK,EAAEpD,WAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,SAAS,EAAC,yBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,OAAO,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAC,wBAA7B;AAAsD,QAAA,WAAW,EAAC,WAAlE;AAA8E,QAAA,IAAI,EAAC,MAAnF;AAA0F,QAAA,KAAK,EAAE,KAAKE,KAAL,CAAWC,IAA5G;AACE,QAAA,QAAQ,EAAE,KAAKQ,iBADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAFF,EASE;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,OAAO,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,EAEE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAC,cAA7B;AAA4C,QAAA,WAAW,EAAC,kCAAxD;AAA2F,QAAA,IAAI,EAAC,SAAhG;AAA0G,QAAA,KAAK,EAAE,KAAKT,KAAL,CAAWI,OAA5H;AACE,QAAA,QAAQ,EAAE,KAAKK,iBADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CATF,EAgBE;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,OAAO,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,EAEE;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAiC,QAAA,EAAE,EAAC,2BAApC;AAAgE,QAAA,IAAI,EAAC,UAArE;AAAgF,QAAA,KAAK,EAAE,KAAKT,KAAL,CAAWE,QAAlG;AACE,QAAA,QAAQ,EAAE,KAAKO,iBADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE;AAAQ,QAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFF,EAGE;AAAQ,QAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAHF,EAIE;AAAQ,QAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJF,EAKE;AAAQ,QAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aALF,EAME;AAAQ,QAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aANF,EAOE;AAAQ,QAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAPF,CAFF,CAhBF,EA8BE;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,OAAO,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,EAEE;AAAQ,QAAA,SAAS,EAAC,eAAlB;AAAkC,QAAA,EAAE,EAAC,oBAArC;AAA0D,QAAA,IAAI,EAAC,UAA/D;AAA0E,QAAA,KAAK,EAAE,KAAKT,KAAL,CAAWG,QAA5F;AACE,QAAA,QAAQ,EAAE,KAAKM,iBADjB;AACoC,sBAAW,kCAD/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE;AAAQ,QAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFF,EAGE;AAAQ,QAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,EAIE;AAAQ,QAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAJF,EAKE;AAAQ,QAAA,KAAK,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBALF,EAME;AAAQ,QAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANF,EAOE;AAAQ,QAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF,EAQE;AAAQ,QAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBARF,EASE;AAAQ,QAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBATF,EAUE;AAAQ,QAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAVF,CAFF,CA9BF,EAyDE;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADI,EAEJ;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,EAAE,EAAC,QAAtB;AAA+B,QAAA,WAAW,EAAC,QAA3C;AAAoD,QAAA,QAAQ,MAA5D;AAA6D,QAAA,QAAQ,EAAE,KAAKyB,UAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFI,CAzDF,CAHF,EAmEI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,uCAAhC;AAAwE,QAAA,KAAK,EAAC,QAA9E;AAAuF,QAAA,QAAQ,EAAE,EAAE,KAAKlC,KAAL,CAAWC,IAAX,IACjG,KAAKD,KAAL,CAAWE,QADoF,CAAjG;AACwB,QAAA,OAAO,EAAE,KAAK0B,gBADtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAnEJ,CADF,CADA,EA0EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGF;AAAI,QAAA,SAAS,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHE,EAIF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJE,EAKA;AAAI,QAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAA0D,KAAK5B,KAAL,CAAWM,SAAX,CAAqByB,QAA/E,CALA,EAMA;AAAI,QAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAA0C,KAAK/B,KAAL,CAAWM,SAAX,CAAqBJ,QAA/D,CANA,EAOA;AAAI,QAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAuC,KAAKF,KAAL,CAAWM,SAAX,CAAqBH,QAA5D,CAPA,EAQA;AAAI,QAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAoC,KAAKH,KAAL,CAAWM,SAAX,CAAqBF,OAAzD,CARA,EASA;AAAK,QAAA,GAAG,EAAE,KAAKJ,KAAL,CAAWQ,GAArB;AAA0B,QAAA,KAAK,EAAC,OAAhC;AAAwC,QAAA,MAAM,EAAC,OAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATA,EAYA;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,iBAAhC;AAAkD,QAAA,OAAO,EAAE,MAAM,KAAKO,UAAL,CAAgB,KAAKf,KAAL,CAAWM,SAAX,CAAqB2B,GAArC,CAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAZA,CAFF,CAFF,CA1EA;AAFF;AAsGC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DN;;AA9PgC;;AAgSjC,eAAelC,QAAf","sourcesContent":["import React, { Component } from \"react\";\nimport \"./style.css\";\nimport API from \"../../utils/API\";\n\n\n//import { SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION } from \"constants\";\nconst cardPostion = {\n  \"float\": \"left\",\n}\n\nclass PostForm extends Component {\n  \n  state={\n      item:\"\",\n      quantity:\"\",\n      category:\"\",\n      Address:\"\",\n      stock_id:\"\",\n      stock_arr:[],\n      uploading: false,\n      url: \"\"\n  }\n  handleInputChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  };\n  deletePost=id=>{\n    if(id !==undefined )\n    {\n      //console.log(\"inside delete\"+id);\n      API.deleteData(id)\n      .then(res =>{\n        this.setState({ stock_arr:\"\",item:\"\", quantity:\"\", category:\"\",Address:\"\"});\n        //console.log(res.data+\"successfully deleted\");\n        alert(\"successfully deleted post\");\n        //console.log(this.state.stock_arr.itemName);\n      }\n        \n      )\n      .catch(err => console.log(err));\n  }\n    \n    };\n\n\n  \n  getDataById=id=>{\n    API.getDataById(id)\n      .then(res =>{\n        this.setState({ stock_arr:res.data,item:\"\", quantity:\"\", category:\"\", Address:\"\"});\n        console.log(\"graaaaaaaaaaab\",res.data);\n        //console.log(this.state.stock_arr.itemName);\n      }\n        \n      )\n      .catch(err => console.log(err));\n  };\n    \n\n  \n\n  handleFormSubmit=event=>{\n      event.preventDefault();\n      if(this.state.item && this.state.quantity)\n      {\n        const newPost = {itemName :this.state.item,\n                       quantity:this.state.quantity,\n                       category:this.state.category,\n                       Address:this.state.Address,\n                       url: this.state.url,\n           } \n           \n           console.log(\"newPost\", newPost);\n           \n           \n           API.savePost( newPost)\n           .then(res => {\n\n            console.log(res.data);\n             this.setState({stock_id:res.data._id}) \n             this.getDataById(res.data._id)  ; \n            \n\n\n           }\n           \n           \n           \n           )\n            .catch(err => console.log(err));\n         \n         \n      }\n\n  };\n    render(){\n\n      return (\n        //kim's update \n        <div>\n        <div className=\"card w-50\" style={cardPostion}>\n          <div className=\"card-body\">\n            <h3 className=\"card-title sectiontitle\">Enter the item you want to donate:</h3>\n            <hr></hr>\n            <form>\n              {/* Input Item Name */}\n              <div className=\"formfield form-group\">\n                <label htmlFor=\"exampleFormControlInput1\">Product</label>\n                <input type=\"text\" className=\"formfield form-control\" placeholder=\"ex. Table\" name=\"item\" value={this.state.item}\n                  onChange={this.handleInputChange} />\n              </div>\n\n              {/* Location: Address */}\n              <div className=\"formfield form-group\">\n                <label htmlFor=\"exampleFormControlInput1\">Pick up address</label>\n                <input type=\"text\" className=\"form-control\" placeholder=\"123 Main St, Seattle, WA, 98123 \" name=\"Address\" value={this.state.Address}\n                  onChange={this.handleInputChange} />\n              </div>\n\n              {/* Select Quantity */}\n              <div className=\"formfield form-group\">\n                <label htmlFor=\"exampleFormControlSelect1\">Select quantity</label>\n                <select className=\"form-control\" id=\"exampleFormControlSelect1\" name=\"quantity\" value={this.state.quantity}\n                  onChange={this.handleInputChange}>\n                  <option value=\"Choose\">Choose...</option>\n                  <option value=\"1\">1</option>\n                  <option value=\"2\">2</option>\n                  <option value=\"3\">3</option>\n                  <option value=\"4\">4</option>\n                  <option value=\"5\">5</option>\n                </select>\n              </div>\n\n              {/* Select Category */}\n              <div className=\"formfield form-group\">\n                <label htmlFor=\"inputGroupSelect01\">Select category</label>\n                <select className=\"custom-select\" id=\"inputGroupSelect03\" name=\"category\" value={this.state.category}\n                  onChange={this.handleInputChange} aria-label=\"Example select with button addon\">\n                  <option value=\"Choose\">Choose...</option>\n                  <option value=\"Toys\">Toys</option>\n                  <option value=\"Housing\">Housing</option>\n                  <option value=\"Electronics\">Electronics</option>\n                  <option value=\"Sports\">Sports</option>\n                  <option value=\"Home\">Home</option>\n                  <option value=\"Fashion\">Fashion</option>\n                  <option value=\"Books\">Books</option>\n                  <option value=\"Other\">Other</option>\n                </select>\n              </div>\n\n              {/* Upload Image */}\n              {/* <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\" id=\"inputGroupFileAddon01\">Upload Image</span>\n                </div>\n                <div className=\"custom-file\" onClick={this.handleFormSubmit}>\n                  <input type=\"file\" className=\"custom-file-input\" id=\"inputGroupFile01\"\n                    aria-describedby=\"inputGroupFileAddon01\" />\n                  <label className=\"custom-file-label\" htmlFor=\"inputGroupFile01\">Choose file</label>\n                </div>\n              </div> */}\n              <div className=\"formfield form-group\">\n          <label >Include an image: </label>\n          <input type=\"file\" id=\"images\" placeholder=\"Images\" multiple onChange={this.uploadFile} />\n        </div>\n\n              </form>\n              {/* Submit Button */}\n              <button type=\"submit\" className=\"navbutton btn btn-warning my-2 btn-sm\" value=\"Submit\" disabled={!(this.state.item &&\n                this.state.quantity)} onClick={this.handleFormSubmit}>Submit</button>\n          </div>\n\n        </div>\n        <div>  \n          \n          <div className=\"card\" > \n               \n            <div className=\"card-body\">\n    \n   \n          <h3 className=\"sectiontitle\">Your Post</h3>\n          <hr></hr>\n            <h5 className=\"formfield\" >Donating Item and Description:{this.state.stock_arr.itemName}</h5>\n            <h6 className=\"formfield\" >Item Qunatity:{this.state.stock_arr.quantity}</h6>\n            <h6 className=\"formfield\" >Department:{this.state.stock_arr.category}</h6>\n            <h6 className=\"formfield\" >Address:{this.state.stock_arr.Address}</h6>\n            <img src={this.state.url} width=\"100px\" height=\"100px\"></img>\n\n\n            <button type=\"button\" className=\"btn btn-primary\" onClick={() => this.deletePost(this.state.stock_arr._id)}  >delete</button>\n           </div>\n             \n              </div>\n          \n          \n           </div>\n      </div>\n      );\n\n       /* //helan's update\n        <div>\n            <div className=\"card w-50\" style={cardPostion}>\n          <div className=\"card-body\">\n            <h3 className=\"card-title\">Donate Form</h3>\n            <br />\n\n        <form>\n            <div className=\"form-group\">\n                <label htmlFor=\"Item Name\">Enter Item Description</label>\n                <input type=\"text\" className=\"form-control\" id=\"item_donate\"  placeholder=\"ex. Table\" name=\"item\" value={this.state.item} onChange={this.handleInputChange}/>\n            </div>\n            <div className=\"form-group\">\n                <label htmlFor=\"Quantity\">select Item Quantity</label>\n                <select name=\"quantity\" value={this.state.quantity}  onChange={this.handleInputChange} >\n                <option value=\"choose\">choose</option>\n                <option value=\"1\">1</option>\n                <option value=\"2\">2</option>\n                <option value=\"3\">3</option>\n                <option value=\"4\">4</option>\n            </select>\n            </div>\n            <div>\n            <label htmlFor=\"Department\">choose Department</label>\n            <select name=\"category\" value={this.state.category}  onChange={this.handleInputChange} >\n                <option value=\"choose\">choose</option>\n                <option value=\"kitchen\">kitchen</option>\n                <option value=\"Furniture\">Furniture</option>\n                <option value=\"outdoor\">outdoor</option>\n                <option value=\"decor\">decor</option>\n            </select>\n            </div>\n            <button type=\"button\" disabled={!(this.state.item && this.state.quantity)}\n                onClick={this.handleFormSubmit}>submit</button>\n              \n              \n        </form>\n        <div>  \n          \n          <div className=\"card\" > \n               \n            <div className=\"card-body\">\n    \n   \n          <title>Your Post</title>\n            <h5>Donating Item:{this.state.stock_arr.itemName}</h5>\n            <h6>Item Qunatity:{this.state.stock_arr.quantity}</h6>\n            <h6>Department:{this.state.stock_arr.category}</h6>\n            <h6>grab image IMAGE</h6>\n\n\n            <button type=\"button\" className=\"btn btn-primary\" onClick={() => this.deletePost(this.state.stock_arr._id)}  >delete</button>\n           </div>\n             \n              </div>\n          \n          \n           </div>\n       </div>\n      </div>\n      </div>\n    );  \n  */    \n}\n\nuploadFile = e => {\n  const files = Array.from(e.target.files)\n  this.setState({ uploading: true })\n\n  const formData = new FormData()\n\n  files.forEach((file, i) => {\n    formData.append(i, file)\n  })\n\n  //sends the img to server\n  fetch(`http://localhost:3001/image-upload`, {\n    method: 'POST',\n    body: formData\n  })\n    .then(res => res.json())\n    .then(images => {\n      this.setState({\n        uploading: false,\n        url: images[0].url\n      });\n    });\n}\n}\n\n\n\n\n\n\n\n\nexport default PostForm;\n\n"]},"metadata":{},"sourceType":"module"}