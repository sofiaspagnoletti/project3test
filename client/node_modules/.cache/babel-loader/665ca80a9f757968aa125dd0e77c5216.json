{"ast":null,"code":"var _jsxFileName = \"/Users/sofiaspagnoletti/Desktop/second_time_around/client/src/components/LoginButton/index.js\";\nimport React from 'react';\nimport Modal from 'react-modal';\nimport \"./style.css\";\nimport ReactDOM from 'react-dom'; // import Background from './donate.jpg';\n\nimport SocialLogin from '@majac/react-social-login';\nimport { FacebookLoginButton } from \"react-social-login-buttons\";\nimport { GoogleLoginButton } from \"react-social-login-buttons\";\nimport API from \"../../utils/API\";\nconst customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: '50%',\n    bottom: '50%',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)',\n    height: '100%',\n    width: '70%'\n  }\n};\nconst styleLogIn = {\n  \"marginLeft\": \"1px\"\n};\nModal.setAppElement('#main');\n\nclass LoginButton extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: \"\",\n      name: \"\",\n      picture: \"\",\n      password: \"\",\n      modalIsOpen: false,\n      facebook: '2334014023351700',\n      google: '801055399463-0buo8uiukhiial91079gnd8jf5h368p2.apps.googleusercontent.com',\n      isLoggedIn: false,\n      user_id: \"\"\n    };\n\n    this.openModal = e => {\n      e.preventDefault();\n      this.setState({\n        modalIsOpen: true\n      });\n    };\n\n    this.afterOpenModal = () => {\n      // references are now sync'd and can be accessed.\n      this.subtitle.style.color = 'blue';\n      this.subtitle.style.textAlign = \"center\";\n      this.subBtn.style.backgroundColor = \"blue\";\n      this.subBtn.style.color = \"white\";\n      this.subBtn.style.marginLeft = \"40%\";\n    };\n\n    this.closeModal = () => {\n      this.setState({\n        modalIsOpen: false\n      });\n    };\n\n    this.postData = e => {\n      e.preventDefault();\n      console.log(this.state);\n    };\n\n    this.handleInputChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      console.log(event.target);\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.resSucc = () => {\n      var res = this.state.ress;\n      this.props.onSignIn(res);\n    };\n\n    this.handleFormSubmit = () => {\n      console.log(\"In handle submit\"); // event.preventDefault();\n\n      if (this.state.email) {\n        const newPost = {\n          name: this.state.name,\n          picture: this.state.picture,\n          email: this.state.email\n        };\n        API.findUser(this.state.email).then(res => {\n          console.log(res.data.length === 0);\n\n          if (res.data.length === 0) {\n            console.log(\"not there\");\n            API.saveUser(newPost).then(res2 => {\n              //console.log(res.data);\n              localStorage.clear();\n              localStorage.setItem(\"nameId\", res2.data._id);\n              this.setState({\n                user_id: res2.data._id\n              });\n            }).catch(err => console.log(err));\n          } else {\n            console.log(res);\n            localStorage.clear();\n            localStorage.setItem(\"nameId\", res.data[0]._id);\n          }\n        }).catch(err => console.log(err)); //console.log(\"newPost\", newPost);\n      }\n    };\n  }\n\n  printConsole() {\n    console.log(\"loff\");\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"navbutton btn btn-warning my-2 btn-sm\",\n      style: styleLogIn,\n      onClick: this.openModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Log In\"), React.createElement(Modal, {\n      isOpen: this.state.modalIsOpen // onAfterOpen={this.afterOpenModal}\n      ,\n      onRequestClose: this.closeModal,\n      style: customStyles,\n      contentLabel: \"Example Modal\",\n      className: \"Modal\",\n      overlayClassName: \"Overlay\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"divSide\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"sectiontitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Reduce, reuse, recyle\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"loginStuff\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"titleInLOgin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Second Time Around\"), React.createElement(\"p\", {\n      className: \"subTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Take and give quickly, safely and locally. It\\u2019s for second time around!\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"socialLoginLine\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Quickly Connect with\")), React.createElement(SocialLogin, {\n      options: {\n        provider: 'facebook',\n        appId: this.state.facebook,\n        onSuccess: res => {\n          //console.log('Login Success', res);\n          this.setState({\n            email: res.email,\n            name: res.name,\n            picture: res.picture\n          });\n          this.handleFormSubmit();\n          this.closeModal();\n        },\n        onFail: error => {\n          console.log('Login Fail', error);\n        }\n      },\n      component: React.createElement(FacebookLoginButton, {\n        onClick: this.handleFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }), React.createElement(SocialLogin, {\n      options: {\n        provider: 'google',\n        appId: this.state.google,\n        onSuccess: res => {\n          //console.log('Login Success', res);\n          this.setState({\n            email: res.email,\n            name: res.first_name + \" \" + res.last_name,\n            picture: res.picture\n          });\n          this.handleFormSubmit();\n          this.closeModal();\n        },\n        onFail: error => {\n          console.log('Login Fail', error);\n        }\n      },\n      component: React.createElement(GoogleLoginButton, {\n        onClick: this.handleFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"socialLoginLine\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"Or USE YOUR EMAIl\")), React.createElement(\"div\", {\n      className: \"footerSign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#nav-home\",\n      className: \" \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, \" \"), React.createElement(\"a\", {\n      href: \"#nav-content1\",\n      className: \"verticalLine contentSignUp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \" Sign Up\")))));\n  }\n\n}\n\nexport default LoginButton;","map":{"version":3,"sources":["/Users/sofiaspagnoletti/Desktop/second_time_around/client/src/components/LoginButton/index.js"],"names":["React","Modal","ReactDOM","SocialLogin","FacebookLoginButton","GoogleLoginButton","API","customStyles","content","top","left","right","bottom","marginRight","transform","height","width","styleLogIn","setAppElement","LoginButton","Component","state","email","name","picture","password","modalIsOpen","facebook","google","isLoggedIn","user_id","openModal","e","preventDefault","setState","afterOpenModal","subtitle","style","color","textAlign","subBtn","backgroundColor","marginLeft","closeModal","postData","console","log","handleInputChange","event","target","value","resSucc","res","ress","props","onSignIn","handleFormSubmit","newPost","findUser","then","data","length","saveUser","res2","localStorage","clear","setItem","_id","catch","err","printConsole","render","provider","appId","onSuccess","onFail","error","first_name","last_name"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Modal from 'react-modal';\nimport \"./style.css\";\nimport ReactDOM from 'react-dom';\n// import Background from './donate.jpg';\nimport SocialLogin from '@majac/react-social-login';\nimport { FacebookLoginButton } from \"react-social-login-buttons\";\nimport { GoogleLoginButton } from \"react-social-login-buttons\";\nimport API from \"../../utils/API\";\n\nconst customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: '50%',\n    bottom: '50%',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)',\n    height: '100%',\n    width: '70%',\n\n\n\n  }\n};\n\n\nconst styleLogIn = {\n  \"marginLeft\": \"1px\"\n}\n\nModal.setAppElement('#main')\nclass LoginButton extends React.Component {\n  printConsole() {\n    console.log(\"loff\");\n  }\n  state = {\n    email: \"\",\n    name: \"\",\n    picture: \"\",\n    password: \"\",\n    modalIsOpen: false,\n    facebook: '2334014023351700',\n    google:\n      '801055399463-0buo8uiukhiial91079gnd8jf5h368p2.apps.googleusercontent.com',\n    isLoggedIn: false,\n    user_id: \"\"\n\n  };\n\n  // this.openModal = this.openModal.bind(this);\n  // this.afterOpenModal = this.afterOpenModal.bind(this);\n  // this.closeModal = this.closeModal.bind(this);\n\n\n  openModal = (e) => {\n    e.preventDefault();\n    this.setState({ modalIsOpen: true });\n\n\n  }\n\n  afterOpenModal = () => {\n    // references are now sync'd and can be accessed.\n    this.subtitle.style.color = 'blue';\n    this.subtitle.style.textAlign = \"center\";\n    this.subBtn.style.backgroundColor = \"blue\";\n    this.subBtn.style.color = \"white\";\n    this.subBtn.style.marginLeft = \"40%\";\n\n\n  }\n\n  closeModal = () => {\n    this.setState({ modalIsOpen: false });\n  }\n  postData = (e) => {\n    e.preventDefault();\n    console.log(this.state);\n  }\n  handleInputChange = event => {\n    const { name, value } = event.target;\n    console.log(event.target);\n    this.setState({\n      [name]: value\n    });\n  };\n\n  resSucc = () => {\n    var res = this.state.ress;\n    this.props.onSignIn(res);\n  }\n\n  handleFormSubmit = () => {\n    console.log(\"In handle submit\");\n    // event.preventDefault();\n    if (this.state.email) {\n      const newPost = {\n        name: this.state.name,\n        picture: this.state.picture,\n        email: this.state.email\n      }\n\n      API.findUser(this.state.email).then(res => {\n        console.log(res.data.length === 0);\n        if (res.data.length === 0) {\n          console.log(\"not there\");\n          API.saveUser(newPost)\n            .then(res2 => {\n\n              //console.log(res.data);\n              localStorage.clear();\n              localStorage.setItem(\"nameId\", res2.data._id);\n              this.setState({ user_id: res2.data._id });\n            }\n            )\n            .catch(err => console.log(err));\n        } else {\n          console.log(res);\n          localStorage.clear();\n          localStorage.setItem(\"nameId\", res.data[0]._id);\n        }\n\n      }\n      )\n        .catch(err => console.log(err));\n\n      //console.log(\"newPost\", newPost);\n\n\n\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <button className=\"navbutton btn btn-warning my-2 btn-sm\" style={styleLogIn} onClick={this.openModal} >\n          Log In\n            </button>\n\n        <Modal\n          isOpen={this.state.modalIsOpen}\n          // onAfterOpen={this.afterOpenModal}\n          onRequestClose={this.closeModal}\n          style={customStyles}\n          contentLabel=\"Example Modal\"\n          className=\"Modal\"\n          overlayClassName=\"Overlay\"\n        >\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col\">\n                <div className=\"divSide\">\n                  <h1 className=\"sectiontitle\">Reduce, reuse, recyle</h1>\n                  <hr></hr>\n                  {/* <ul className=\"ulHelp\">\n                    <p><i className=\"fa fa-camera\"></i> Post listings</p>\n                    <p><i className='fas fa-comments'></i> Chat with buyers and sellers</p>\n                    <p><i className=\"fa fa-heart\"></i> Save listings</p>\n                  </ul> */}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"loginStuff\">\n            <h3 className=\"titleInLOgin\">Second Time Around</h3>\n            <p className=\"subTitle\">Take and give quickly, safely and locally. It’s for second time around!</p>\n            <br></br>\n            <p className=\"socialLoginLine\"><span>Quickly Connect with</span></p>\n            <SocialLogin\n              options={{\n                provider: 'facebook',\n                appId: this.state.facebook,\n                onSuccess: res => {\n                  //console.log('Login Success', res);\n                  this.setState({ email: res.email, name: res.name, picture: res.picture });\n                  this.handleFormSubmit();\n                  this.closeModal();\n                },\n                onFail: error => {\n                  console.log('Login Fail', error);\n                }\n              }}\n              component={<FacebookLoginButton onClick={this.handleFormSubmit} />}\n            />\n            <br></br>\n            <SocialLogin\n              options={{\n                provider: 'google',\n                appId: this.state.google,\n                onSuccess: res => {\n                  //console.log('Login Success', res);\n                  this.setState({ email: res.email, name: res.first_name + \" \" + res.last_name, picture: res.picture });\n                  this.handleFormSubmit();\n                  this.closeModal();\n                },\n                onFail: error => {\n                  console.log('Login Fail', error);\n                }\n              }}\n              component={<GoogleLoginButton onClick={this.handleFormSubmit} />}\n            />\n            <br></br>\n            <p className=\"socialLoginLine\"><span>Or USE YOUR EMAIl</span></p>\n\n            <div className=\"footerSign\">\n\n              <a href=\"#nav-home\" className=\" \" > </a>\n\n              <a href=\"#nav-content1\" className=\"verticalLine contentSignUp\" > Sign Up</a>\n            </div>\n\n          </div>\n        </Modal>\n      </div>\n    )\n  }\n\n\n\n}\n\nexport default LoginButton;\n"]},"metadata":{},"sourceType":"module"}