{"ast":null,"code":"var _jsxFileName = \"/Users/sofiaspagnoletti/Desktop/second_time_around/client/src/components/PostForm/PostForm.js\";\nimport React, { Component } from \"react\";\nimport \"./style.css\";\nimport API from \"../../utils/API\";\nimport Webcam from \"react-webcam\"; //import { SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION } from \"constants\";\n// const cardPostion = {\n//   \"float\": \"left\",\n// }\n\nclass PostForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      item: \"\",\n      quantity: \"\",\n      category: \"\",\n      Address: \"\",\n      stock_id: \"\",\n      stock_arr: [],\n      uploading: false,\n      url: \"\",\n      imageUploadPromise: \"\"\n    };\n\n    this.handleInputChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.deletePost = id => {\n      if (id !== undefined) {\n        //console.log(\"inside delete\"+id);\n        API.deleteData(id).then(res => {\n          this.setState({\n            stock_arr: \"\",\n            item: \"\",\n            quantity: \"\",\n            category: \"\",\n            Address: \"\",\n            url: \"\"\n          }); //console.log(res.data+\"successfully deleted\");\n\n          alert(\"successfully deleted post\"); //console.log(this.state.stock_arr.itemName);\n        }).catch(err => console.log(err));\n      }\n    };\n\n    this.getDataById = id => {\n      console.log(localStorage.getItem(\"name\"));\n      API.getDataById(id).then(res => {\n        this.setState({\n          stock_arr: res.data,\n          item: \"\",\n          quantity: \"\",\n          category: \"\",\n          Address: \"\"\n        });\n        console.log(\"graaaaaaaaaaab\", res.data); //console.log(this.state.stock_arr.itemName);\n      }).catch(err => console.log(err));\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n\n      if (this.state.item && this.state.quantity && this.state.imageUploadPromise) {\n        this.state.imageUploadPromise.then(res => res.json()).then(images => {\n          console.log(images[0].url);\n          const imageURL = images[0].url;\n          this.setState({\n            url: imageURL\n          });\n          const newPost = {\n            itemName: this.state.item,\n            quantity: this.state.quantity,\n            category: this.state.category,\n            Address: this.state.Address,\n            url: this.state.url,\n            user_id: localStorage.getItem('nameId')\n          };\n          console.log(\"newPost\", newPost);\n          API.savePost(newPost).then(res => {\n            console.log(res.data);\n            this.setState({\n              stock_id: res.data._id\n            });\n            this.getDataById(res.data._id);\n          }).catch(err => console.log(err));\n        });\n      }\n    };\n\n    this.setRef = webcam => {\n      this.webcam = webcam;\n    };\n\n    this.capture = e => {\n      e.preventDefault();\n      const imageSrc = this.webcam.getScreenshot();\n      this.uploadCameraFile(imageSrc);\n    };\n\n    this.uploadFile = e => {\n      const files = Array.from(e.target.files);\n      this.setState({\n        uploading: true\n      });\n      const formData = new FormData();\n      files.forEach((file, i) => {\n        formData.append(i, file);\n      });\n      const request = fetch(\"http://localhost:3001/image-upload\", {\n        method: 'POST',\n        body: formData\n      });\n      this.setState({\n        imageUploadPromise: request\n      }); // .then(res => res.json())\n      // .then(images => {\n      //   this.setState({\n      //     uploading: false,\n      //     url: images[0].url\n      //   });\n      // });\n    };\n\n    this.dataURItoBlob = dataURI => {\n      var binary = atob(dataURI.split(',')[1]);\n      var array = [];\n\n      for (var i = 0; i < binary.length; i++) {\n        array.push(binary.charCodeAt(i));\n      }\n\n      return new Blob([new Uint8Array(array)], {\n        type: 'image/jpeg'\n      });\n    };\n\n    this.uploadCameraFile = encodedImageString => {\n      const formData = new FormData();\n      formData.append(0, this.dataURItoBlob(encodedImageString));\n      const request = fetch(\"http://localhost:3001/image-upload\", {\n        method: 'POST',\n        body: formData\n      });\n      this.setState({\n        imageUploadPromise: request\n      }); // //sends the img to server\n      // fetch(`http://localhost:3001/image-upload`, {\n      //   method: 'POST',\n      //   body: formData\n      // });\n      //   .then(res => res.json())\n      //   .then(images => {\n      //     console.log(images[0].url);\n      //   });\n    };\n  }\n\n  render() {\n    // FOR CAMERA USE\n    const videoConstraints = {\n      width: 1280,\n      height: 720,\n      facingMode: \"user\"\n    };\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"offset-3 col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"exampleFormControlInput1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Product\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"ex. Dining table\",\n      name: \"item\",\n      value: this.state.item,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(\"small\", {\n      className: \"form-text text-muted\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"* Required\")), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"exampleFormControlInput1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Pick up address\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"123 Main St, Seattle, WA, 98123 \",\n      name: \"Address\",\n      value: this.state.Address,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"exampleFormControlSelect1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Select quantity\"), React.createElement(\"select\", {\n      className: \"form-control\",\n      id: \"exampleFormControlSelect1\",\n      name: \"quantity\",\n      value: this.state.quantity,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"Choose\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Choose...\"), React.createElement(\"option\", {\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"1\"), React.createElement(\"option\", {\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"2\"), React.createElement(\"option\", {\n      value: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"3\"), React.createElement(\"option\", {\n      value: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"4\"), React.createElement(\"option\", {\n      value: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"5\")), React.createElement(\"small\", {\n      className: \"form-text text-muted\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"* Required\")), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"inputGroupSelect01\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Select category\"), React.createElement(\"select\", {\n      className: \"custom-select\",\n      id: \"inputGroupSelect03\",\n      name: \"category\",\n      value: this.state.category,\n      onChange: this.handleInputChange,\n      \"aria-label\": \"Example select with button addon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"Choose\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"Choose...\"), React.createElement(\"option\", {\n      value: \"Toys\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Toys\"), React.createElement(\"option\", {\n      value: \"Electronics\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Electronics\"), React.createElement(\"option\", {\n      value: \"Sports\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Sports\"), React.createElement(\"option\", {\n      value: \"Home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Home\"), React.createElement(\"option\", {\n      value: \"Fashion\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Fashion\"), React.createElement(\"option\", {\n      value: \"Books\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"Books\"), React.createElement(\"option\", {\n      value: \"Other\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Other\"))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Include an image\"), React.createElement(\"input\", {\n      type: \"file\",\n      id: \"images\",\n      placeholder: \"Images\",\n      multiple: true,\n      onChange: this.uploadFile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"offset-2 col-md-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(Webcam, {\n      audio: false,\n      height: 350,\n      ref: this.setRef,\n      screenshotFormat: \"image/jpeg\",\n      width: 350,\n      videoConstraints: videoConstraints,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"navbutton btn btn-warning my-2 btn-sm\",\n      onClick: this.capture,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Capture photo\")))), React.createElement(\"button\", {\n      type: \"submit\",\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#exampleModalCenter\",\n      className: \"navbutton btn btn-warning my-2 btn-sm\",\n      value: \"Submit\",\n      disabled: !(this.state.item && this.state.quantity),\n      onClick: this.handleFormSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"Confirm\"))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal fade\",\n      id: \"exampleModalCenter\",\n      tabIndex: \"-1\",\n      role: \"dialog\",\n      \"aria-labelledby\": \"exampleModalCenterTitle\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-dialog modal-dialog-centered\",\n      role: \"document\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"modal-title\",\n      id: \"exampleModalCenterTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"Review and share!\"), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"close\",\n      \"data-dismiss\": \"modal\",\n      \"aria-label\": \"Close\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"\\xD7\"))), React.createElement(\"div\", {\n      className: \"modal-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"formfield\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"Product Name:\", this.state.stock_arr.itemName), React.createElement(\"h6\", {\n      className: \"formfield\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"Item quantity:\", this.state.stock_arr.quantity), React.createElement(\"h6\", {\n      className: \"formfield\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, \"Department:\", this.state.stock_arr.category), React.createElement(\"h6\", {\n      className: \"formfield\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"Address:\", this.state.stock_arr.Address), React.createElement(\"img\", {\n      src: this.state.url,\n      width: \"200px\",\n      height: \"200px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"navbutton btn btn-warning my-2 btn-sm\",\n      onClick: () => this.deletePost(this.state.stock_arr._id),\n      \"data-dismiss\": \"modal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"Delete\"), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"navbutton btn btn-warning my-2 btn-sm\",\n      \"data-dismiss\": \"modal\",\n      onClick: () => window.location.href = \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"Submit\")))))))));\n  } // UPLOAD IMG FROM DEVICE\n\n\n}\n\nexport default PostForm;","map":{"version":3,"sources":["/Users/sofiaspagnoletti/Desktop/second_time_around/client/src/components/PostForm/PostForm.js"],"names":["React","Component","API","Webcam","PostForm","state","item","quantity","category","Address","stock_id","stock_arr","uploading","url","imageUploadPromise","handleInputChange","event","target","name","value","setState","deletePost","id","undefined","deleteData","then","res","alert","catch","err","console","log","getDataById","localStorage","getItem","data","handleFormSubmit","preventDefault","json","images","imageURL","newPost","itemName","user_id","savePost","_id","setRef","webcam","capture","e","imageSrc","getScreenshot","uploadCameraFile","uploadFile","files","Array","from","formData","FormData","forEach","file","i","append","request","fetch","method","body","dataURItoBlob","dataURI","binary","atob","split","array","length","push","charCodeAt","Blob","Uint8Array","type","encodedImageString","render","videoConstraints","width","height","facingMode","window","location","href"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./style.css\";\nimport API from \"../../utils/API\";\nimport Webcam from \"react-webcam\";\n\n\n//import { SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION } from \"constants\";\n// const cardPostion = {\n//   \"float\": \"left\",\n// }\n\nclass PostForm extends Component {\n\n  state = {\n    item: \"\",\n    quantity: \"\",\n    category: \"\",\n    Address: \"\",\n    stock_id: \"\",\n    stock_arr: [],\n    uploading: false,\n    url: \"\",\n    imageUploadPromise: \"\",\n  }\n  handleInputChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  };\n  deletePost = id => {\n    if (id !== undefined) {\n      //console.log(\"inside delete\"+id);\n      API.deleteData(id)\n        .then(res => {\n          this.setState({ stock_arr: \"\", item: \"\", quantity: \"\", category: \"\", Address: \"\", url: \"\" });\n          //console.log(res.data+\"successfully deleted\");\n          alert(\"successfully deleted post\");\n          //console.log(this.state.stock_arr.itemName);\n        }\n        )\n        .catch(err => console.log(err));\n    }\n  };\n\n  getDataById = id => {\n    console.log(localStorage.getItem(\"name\"));\n    API.getDataById(id)\n      .then(res => {\n        this.setState({ stock_arr: res.data, item: \"\", quantity: \"\", category: \"\", Address: \"\" });\n        console.log(\"graaaaaaaaaaab\", res.data);\n        //console.log(this.state.stock_arr.itemName);\n      }\n      )\n      .catch(err => console.log(err));\n  };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    if (this.state.item && this.state.quantity && this.state.imageUploadPromise) {\n      this.state.imageUploadPromise\n        .then(res => res.json())\n        .then(images => {\n          console.log(images[0].url);\n          const imageURL = images[0].url;\n          this.setState({\n            url: imageURL\n          });\n          const newPost = {\n            itemName: this.state.item,\n            quantity: this.state.quantity,\n            category: this.state.category,\n            Address: this.state.Address,\n            url: this.state.url,\n            user_id: localStorage.getItem('nameId')\n          }\n          console.log(\"newPost\", newPost);\n          API.savePost(newPost)\n            .then(res => {\n              console.log(res.data);\n              this.setState({ stock_id: res.data._id })\n              this.getDataById(res.data._id);\n            })\n            .catch(err => console.log(err));\n        });\n    }\n  };\n\n  //UPLOAD IMG FROM CAMERA\n  setRef = webcam => {\n    this.webcam = webcam;\n  };\n\n  capture = (e) => {\n    e.preventDefault();\n    const imageSrc = this.webcam.getScreenshot();\n    this.uploadCameraFile(imageSrc);\n  };\n\n  render() {\n\n    // FOR CAMERA USE\n    const videoConstraints = {\n      width: 1280,\n      height: 720,\n      facingMode: \"user\"\n    };\n\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"offset-3 col-md-6\">\n            {/* <h3 id=\"postitemform\" className=\"card-title sectiontitle\">Enter the item you want to donate</h3>\n            <hr></hr> */}\n            <form>\n              {/* Input Item Name */}\n              <div className=\"form-group\">\n                <label htmlFor=\"exampleFormControlInput1\">Product</label>\n                <input type=\"text\" className=\"form-control\" placeholder=\"ex. Dining table\" name=\"item\" value={this.state.item}\n                  onChange={this.handleInputChange} />\n                <small className=\"form-text text-muted\">* Required</small>\n              </div>\n              {/* Location: Address */}\n              <div className=\"form-group\">\n                <label htmlFor=\"exampleFormControlInput1\">Pick up address</label>\n                <input type=\"text\" className=\"form-control\" placeholder=\"123 Main St, Seattle, WA, 98123 \" name=\"Address\" value={this.state.Address}\n                  onChange={this.handleInputChange} />\n              </div>\n              {/* Select Quantity */}\n              <div className=\"form-group\">\n                <label htmlFor=\"exampleFormControlSelect1\">Select quantity</label>\n                <select className=\"form-control\" id=\"exampleFormControlSelect1\" name=\"quantity\" value={this.state.quantity}\n                  onChange={this.handleInputChange}>\n                  <option value=\"Choose\">Choose...</option>\n                  <option value=\"1\">1</option>\n                  <option value=\"2\">2</option>\n                  <option value=\"3\">3</option>\n                  <option value=\"4\">4</option>\n                  <option value=\"5\">5</option>\n                </select>\n                <small className=\"form-text text-muted\">* Required</small>\n              </div>\n              {/* Select Category */}\n              <div className=\"form-group\">\n                <label htmlFor=\"inputGroupSelect01\">Select category</label>\n                <select className=\"custom-select\" id=\"inputGroupSelect03\" name=\"category\" value={this.state.category}\n                  onChange={this.handleInputChange} aria-label=\"Example select with button addon\">\n                  <option value=\"Choose\">Choose...</option>\n                  <option value=\"Toys\">Toys</option>\n                  <option value=\"Electronics\">Electronics</option>\n                  <option value=\"Sports\">Sports</option>\n                  <option value=\"Home\">Home</option>\n                  <option value=\"Fashion\">Fashion</option>\n                  <option value=\"Books\">Books</option>\n                  <option value=\"Other\">Other</option>\n                </select>\n              </div>\n              {/* UPLOAD FILE FROM DEVICE */}\n              <div className=\"form-group\">\n                <label >Include an image</label>\n                <input type=\"file\" id=\"images\" placeholder=\"Images\" multiple onChange={this.uploadFile} />\n              </div>\n              {/* UPLOAD FROM CAMERA */}\n              <div>\n                <div className=\"offset-2 col-md-8\">\n                  <Webcam\n                    audio={false}\n                    height={350}\n                    ref={this.setRef}\n                    screenshotFormat=\"image/jpeg\"\n                    width={350}\n                    videoConstraints={videoConstraints}\n                  />\n                  <button className=\"navbutton btn btn-warning my-2 btn-sm\" onClick={this.capture}>Capture photo</button>\n                </div>\n              </div>\n\n            </form>\n            <button type=\"submit\" data-toggle=\"modal\" data-target=\"#exampleModalCenter\" className=\"navbutton btn btn-warning my-2 btn-sm\" value=\"Submit\" disabled={!(this.state.item &&\n              this.state.quantity)} onClick={this.handleFormSubmit}>Confirm</button>\n          </div>\n        </div>\n        <div>\n          <div>\n            {/*<!-- Modal -->*/}\n            <div className=\"modal fade\" id=\"exampleModalCenter\" tabIndex=\"-1\" role=\"dialog\"\n              aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n              <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div className=\"modal-content\">\n                  <div className=\"modal-header\">\n                    <h5 className=\"modal-title\" id=\"exampleModalCenterTitle\">Review and share!</h5>\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                      <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                  </div>\n                  <div className=\"modal-body\">\n                    {/* <h3 className=\"sectiontitle\">Your Post</h3> */}\n\n                    <h5 className=\"formfield\" >Product Name:{this.state.stock_arr.itemName}</h5>\n                    <h6 className=\"formfield\" >Item quantity:{this.state.stock_arr.quantity}</h6>\n                    <h6 className=\"formfield\" >Department:{this.state.stock_arr.category}</h6>\n                    <h6 className=\"formfield\" >Address:{this.state.stock_arr.Address}</h6>\n                    <img src={this.state.url} width=\"200px\" height=\"200px\"></img>\n                    <br></br>\n                    <div className=\"modal-footer\">\n                      <button type=\"button\" className=\"navbutton btn btn-warning my-2 btn-sm\" onClick={() => this.deletePost(this.state.stock_arr._id)} data-dismiss=\"modal\">Delete</button>\n                      <button type=\"button\" className=\"navbutton btn btn-warning my-2 btn-sm\" data-dismiss=\"modal\" onClick={() => window.location.href = \"/\"}>Submit</button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // UPLOAD IMG FROM DEVICE\n  uploadFile = e => {\n    const files = Array.from(e.target.files)\n    this.setState({ uploading: true })\n\n    const formData = new FormData()\n\n    files.forEach((file, i) => {\n      formData.append(i, file)\n    })\n\n    const request = fetch(`http://localhost:3001/image-upload`, {\n      method: 'POST',\n      body: formData\n    });\n\n    this.setState({\n      imageUploadPromise: request\n    });\n    // .then(res => res.json())\n    // .then(images => {\n    //   this.setState({\n    //     uploading: false,\n    //     url: images[0].url\n    //   });\n    // });\n  }\n\n  //UPLOAD IMG FROM CAMERA\n  dataURItoBlob = dataURI => {\n    var binary = atob(dataURI.split(',')[1]);\n    var array = [];\n    for (var i = 0; i < binary.length; i++) {\n      array.push(binary.charCodeAt(i));\n    }\n    return new Blob([new Uint8Array(array)], { type: 'image/jpeg' });\n  }\n\n  uploadCameraFile = encodedImageString => {\n    const formData = new FormData();\n\n    formData.append(0, this.dataURItoBlob(encodedImageString));\n\n    const request = fetch(`http://localhost:3001/image-upload`, {\n      method: 'POST',\n      body: formData\n    });\n\n    this.setState({\n      imageUploadPromise: request\n    });\n    // //sends the img to server\n    // fetch(`http://localhost:3001/image-upload`, {\n    //   method: 'POST',\n    //   body: formData\n    // });\n    //   .then(res => res.json())\n    //   .then(images => {\n    //     console.log(images[0].url);\n    //   });\n  }\n\n}\n\nexport default PostForm;\n\n"]},"metadata":{},"sourceType":"module"}